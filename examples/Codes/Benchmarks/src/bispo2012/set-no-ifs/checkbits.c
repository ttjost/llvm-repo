/* Check bits for Hamming SEC-DED code -- Not in the book*/
/* http://www.hackersdelight.org/
 */

// Multiple of 2
#define N 500

unsigned int input[N] = {
    1155484576, 723955400, 1033096058, 1690734402, 1557280266, 1327362106, 1930858313,
    502539523, 1728529858, 938301587, 1431162155, 1085665355, 1654374947, 1661998771,
    65105105, 73789608, 518907128, 99135751, 252332814, 755814641, 1180918287,
    1344049776, 553609048, 1580443894, 629649304, 1266264776, 99807007, 5955764,
    1946737912, 39620447, 152527805, 1877116806, 448784075, 1086124775, 1609984092,
    1227951724, 1764356251, 64111306, 960731419, 100082026, 39845375, 1339022546,
    2092649110, 568315836, 1089884900, 81839914, 1146103148, 1846688624, 784703072,
    55004124, 691960657, 1770461755, 2032810463, 1177788003, 432352882, 65824064,
    575267217, 1949367821, 356750287, 798819494, 92022521, 1318001577, 1192467086,
    1412716779, 1223932479, 276053035, 615126903, 1542603436, 1988388716, 1177882237,
    19265476, 1430871151, 307082914, 1333570194, 1496453452, 790542135, 1455004595,
    1690249972, 604059026, 290476856, 122204761, 1097539750, 576617062, 2002123957,
    1663951485, 193034304, 768747578, 1337360486, 934457803, 873612482, 624972850,
    355564760, 41547336, 1781447028, 1321591463, 1081281446, 982203381, 222544851,
    1233998085, 1331702554, 907249073, 206843130, 931610657, 1697401307, 234791961,
    996341162, 61144662, 1638496702, 1693091376, 1667947369, 627963836, 105673451,
    918940699, 300903254, 28037702, 1358495114, 502062723, 2056481282, 731396580,
    617380302, 162912754, 818693069, 1184143835, 410943565, 1385753324, 1233308008,
    840115328, 1474241772, 1895913584, 1376826901, 1984652857, 412901507, 632101198,
    2025024491, 2139603013, 1233011876, 34604646, 1854979571, 131984708, 1866233577,
    1516579035, 1612513822, 203005342, 911714850, 307621155, 13453556, 125015832,
    483675743, 2077347671, 37011083, 120473323, 2069609186, 46741469, 1502566715,
    998828580, 1206282339, 2141482063, 1550311379, 1097472880, 1449582151, 1327824311,
    1105846005, 651630279, 1174121238, 223701431, 810978550, 43703267, 835843581,
    1519786882, 772329283, 372536197, 317962831, 642907139, 706495414, 15792134,
    1116133237, 1322391079, 1231319713, 2011725892, 1299386162, 348690342, 1341976962,
    1190607957, 262501494, 540039728, 986836170, 1675546118, 1948015872, 392391576,
    638256747, 191085745, 97160665, 1517309270, 1375971382, 2133755906, 891811204,
    2118700536, 2110473668, 2058625827, 861211557, 1573507430, 1625767564, 2051434938,
    1922104200, 1271440420, 927536580, 1386277121, 1184911833, 50057146, 185358571,
    1284027987, 1025692308, 1093701172, 1116573039, 1686684117, 2068400044, 1009668318,
    1847249948, 1670927751, 408998980, 380240510, 1439774921, 718930634, 1800042595,
    16808464, 1743967552, 1137718941, 252008887, 460347667, 1053605891, 1278046001,
    947528252, 1842130704, 1599145891, 1341955486, 1631478226, 1754478786, 1370798799,
    1516348954, 730123440, 1409786204, 1491046204, 1114899725, 656053644, 453397258,
    694901410, 1804067552, 13393714, 2101289195, 176533870, 1339899789, 1511804464,
    1974699707, 1660688399, 115501757, 86156176, 1659413839, 1775057871, 116690193,
    524129043, 1335659601, 1387390647, 1587895448, 1291940779, 782382009, 129016790,
    1111888250, 1369132585, 1582995723, 1775301948, 1352452311, 898816007, 1072231506,
    98890493, 816987543, 1763924914, 526139168, 312090222, 1231414341, 977688068,
    287577538, 1465993732, 1336202001, 1765140980, 2020641285, 95008905, 768704422,
    1985683736, 489119572, 1303323276, 1357461657, 869863794, 1628866452, 779918512,
    1750503926, 219565529, 255081261, 1102069833, 2000829650, 187633124, 919959231,
    1628224372, 1433358016, 2066119013, 1076044702, 837759872, 1135845471, 1374513806,
    391471507, 980775637, 1136222341, 1920058376, 810323999, 1940365237, 1278875422,
    330772320, 1037359638, 562086714, 200094072, 1255479666, 369661635, 782706145,
    462895706, 1256820224, 1998711323, 252927047, 367830942, 1133964626, 2012825476,
    1180767193, 315210081, 753219948, 759217255, 146291256, 500459170, 539123842,
    1505097534, 298228243, 60533992, 38982769, 1821527659, 174692559, 1699744250,
    1761913560, 1172992642, 1026162883, 2090846535, 1556971572, 237338788, 1631021909,
    935231044, 1514404713, 387312699, 1628770735, 83168215, 1073062227, 1177720299,
    1503701971, 1422521171, 230082541, 1236421386, 514995219, 274845224, 1537588519,
    971788340, 332759143, 601583161, 646267509, 1702306988, 1388817557, 1169314299,
    1961514302, 1305086064, 2022278952, 1609053499, 521914699, 153728813, 971743052,
    2050261229, 1072226033, 398015640, 168570246, 1242849904, 352718239, 1864625443,
    473771110, 775896574, 1785991171, 1698577684, 713629100, 1407697474, 1522485231,
    1933026373, 1956675524, 1479877258, 1156654721, 1157041776, 1895306073, 1094584616,
    218513495, 885467306, 92567844, 642230895, 1264266518, 341998742, 910648711,
    1341345462, 1194456154, 357758998, 2014868857, 152070336, 869823999, 838196198,
    1022100081, 1821037852, 844417953, 150389341, 648233322, 1424864302, 357681834,
    593534002, 1755230166, 417906522, 212262954, 774410251, 1093280814, 1417675888,
    1261380316, 1842059106, 1051130778, 2061353156, 1883576512, 731890682, 834930750,
    1977670049, 1709832625, 1784970291, 540389483, 1729208290, 559726140, 1607963264,
    1301499534, 7046458, 1734818876, 1333551218, 102237163, 1229445687, 652525130,
    297411598, 151249948, 2133044636, 829943262, 1325570812, 602140069, 855508472,
    188173652, 1195647518, 1942886337, 1466810945, 1421901403, 273829714, 915206375,
    1500167556, 1279446969, 2057734606, 845879838, 187653156, 1226822235, 1318474016,
    1568167162, 522351049, 82500903, 2124478282, 6206815, 423784092, 1668441430,
    718048728, 891909914, 1500508615, 1740889846, 1309293780, 575224572, 139309227,
    1018052040, 1116841129, 370693002, 1996831313, 705395362, 1745527253, 950526261,
    796591014, 1050856894, 1260609160, 2093350350, 1822145887, 1647214459, 723532789,
    1333177144, 1596606704, 418146186
};

	unsigned int output[N];

unsigned int checkbits(unsigned int u) {
   unsigned int p0, p1, p2, p3, p4, p5, p;
   unsigned int t1, t2, t3;

   p0 = u ^ (u >> 2);
   p0 = p0 ^ (p0 >> 4);
   p0 = p0 ^ (p0 >> 8);
   p0 = p0 ^ (p0 >> 16);

   t1 = u ^ (u >> 1);
   p1 = t1 ^ (t1 >> 4);
   p1 = p1 ^ (p1 >> 8);
   p1 = p1 ^ (p1 >> 16);

   t2 = t1 ^ (t1 >> 2);
   p2 = t2 ^ (t2 >> 8);
   p2 = p2 ^ (p2 >> 16);

   t3 = t2 ^ (t2 >> 4);
   p3 = t3 ^ (t3 >> 16);

   p4 = t3 ^ (t3 >> 8);

   p5 = p4 ^ (p4 >> 16);

   p = ((p0>>1) & 1) | ((p1>>1) & 2) | ((p2>>2) & 4) |
       ((p3>>5) & 8) | ((p4>>12) & 16) | ((p5 & 1) << 5);

   p = p ^ (-(u & 1) & 0x3F);
   return p;
}

int main() {


	int i;
	//int in1, in2, in3, in4, in5;
	//int out1, out2, out3, out4, out5;
	//int in1, in2, in3;
	//int out1, out2, out3;

	for(i=0; i<N; i+=3) {
		output[i] = checkbits(input[i]);
		/*
		in1 = input[i];
		in2 = input[i+1];
		in3 = input[i+2];

		out1 = checkbits(in1);
		out2 = checkbits(in2);
		out3 = checkbits(in3);

		output[i] = out1;
		output[i+1] = out2;
		output[i+2] = out3;
		*/
		output[i] = checkbits(input[i]);
	}

	return 0;
}

