#define LOOP_COUNT 100

#ifdef C
#include <stdio.h>
#endif


short input[LOOP_COUNT] = {
    -10893, -25384, 3695, -1646, -13060, -18192, -3611,
    -31267, -9771, 2152, -6798, -18414, 23482, 7038,
    1204, -20764, 23985, 3324, -25175, -15813, 14209,
    30872, -3779, 31286, 21092, -3170, -5852, 29299,
    1275, -5172, -10518, -21107, -17791, 4220, -28601,
    7398, -9917, -22008, 31927, 24741, 7247, -31895,
    26698, 1026, 21611, 18977, 12216, -17984, -15287,
    -30629, -26184, 23803, -29704, -25265, -3695, -17885,
    -10340, 22507, 14064, 25672, -15007, 6063, -2308,
    6807, 13996, -26664, 8872, -32220, 147, -14144,
    30279, 14313, 12175, 23428, 18021, 32526, 21104,
    -7193, -14893, 3946, 144, -19339, 6403, -14263,
    3915, -10005, -13674, 19311, 10926, -11563, 30003,
    -15267, -14995, -903, -18790, 24530, -27622, -18957,
    -16392, 14228
};

int output_ref[LOOP_COUNT] = {37, 0, 0, 0, 0, 0, 0, 0, 8192, -2177, 3748, -62, 10984, -2177, 3680, -62, -19734, -2179, 3600, -62, -32292, 2052, 3608, -62, 10892, -2177, 0, 0, -5288, -2180, 1, 0, 0, 0, 1, 0, 10544, -2177, -19712, -2178, 0, 0, 31040, -2208, 1, 0, 29, 0, 6, 0, 12361, 11444, 0, 0, 3748, -62, 3608, -62, 3600, -62, -32227, 2052, 10544, -2177, 0, 0, 191, 0, -14922, -2199, -1, -1, 3646, -62, 19448, -2207, -28189, -2205, 0, 0, 12361, 11444, 1, 0, -32099, 2052, 9414, -62, 47, 0, -26688, 2052, -31374, 2052, 1, 0, 3844, -62, 3852, -62};

short ssqrt(short vsqn) {
	int i;
	short vsq = vsqn, asq = 0, a = 0, tvsq = 0;

	for (i = 0; i < 6; i++) {
	 		short nasq = (short) (((asq+a) << 2) | 1);
		short sa = (short) (a << 1);
		tvsq = (short) ((tvsq << 2) | ((vsq >> 10) & 3));
		vsq = (short) (vsq << 2);
		if (nasq <= tvsq) {
			a = (short) (sa | 1);
			asq = nasq;
		} else {
			a = sa;
			asq = (short) (asq << 2);
		}
	}
	return a;
}



int main() {

	short output[LOOP_COUNT];
	int i;


	for(i=0; i<LOOP_COUNT; i++) {
		output[0] = ssqrt(input[i]);
		printf("%d, ", output[i]);
	}

	/*
	for (i = 0; i < LOOP_COUNT; i++)
	  {
	    if (output[i] != output_ref[i])
	      {
		#ifdef C
		printf("%d, %d", output[i], i);
		#endif
		return 666;
	      }
	  }

	#ifdef C
	printf("-1\n");
	#endif
	*/
	return 0;
	
}

