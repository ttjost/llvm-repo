#define N  16
#define M 256 + N

#define c0 2
#define c1 4
#define c2 4
#define c3 2
#define c4 4
#define c5 2
#define c6 2
#define c7 4
#define c8 2
#define c9 4
#define c10 4
#define c11 2
#define c12 4
#define c13 2
#define c14 2
#define c15 4

int  c[N] = {c0, c1, c2, c3, c4, c5, c6, c7, c8, c9, c10, c11, c12, c13, c14, c15};

int x[M] = { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    -1155484576, -723955400, 1033096058, -1690734402, -1557280266, 1327362106, -1930858313,
    502539523, -1728529858, -938301587, 1431162155, 1085665355, 1654374947, -1661998771,
    -65105105, -73789608, -518907128, 99135751, -252332814, 755814641, 1180918287,
    1344049776, 553609048, 1580443894, 629649304, -1266264776, 99807007, 5955764,
    -1946737912, 39620447, -152527805, -1877116806, 448784075, 1086124775, -1609984092,
    1227951724, 1764356251, 64111306, -960731419, -100082026, -39845375, -1339022546,
    2092649110, -568315836, -1089884900, -81839914, -1146103148, -1846688624, -784703072,
    55004124, -691960657, 1770461755, -2032810463, -1177788003, -432352882, -65824064,
    575267217, -1949367821, 356750287, 798819494, -92022521, 1318001577, -1192467086,
    -1412716779, -1223932479, 276053035, 615126903, 1542603436, 1988388716, 1177882237,
    19265476, -1430871151, 307082914, -1333570194, 1496453452, -790542135, 1455004595,
    -1690249972, -604059026, -290476856, -122204761, -1097539750, -576617062, -2002123957,
    -1663951485, 193034304, 768747578, 1337360486, 934457803, 873612482, -624972850,
    355564760, 41547336, 1781447028, -1321591463, 1081281446, -982203381, -222544851,
    -1233998085, -1331702554, 907249073, 206843130, -931610657, 1697401307, -234791961,
    -996341162, 61144662, -1638496702, 1693091376, -1667947369, -627963836, 105673451,
    -918940699, -300903254, -28037702, 1358495114, -502062723, 2056481282, 731396580,
    617380302, -162912754, 818693069, -1184143835, -410943565, -1385753324, 1233308008,
    -840115328, -1474241772, 1895913584, 1376826901, 1984652857, 412901507, -632101198,
    2025024491, -2139603013, -1233011876, -34604646, -1854979571, -131984708, -1866233577,
    1516579035, 1612513822, 203005342, -911714850, 307621155, 13453556, 125015832,
    483675743, 2077347671, 37011083, -120473323, 2069609186, -46741469, 1502566715,
    -998828580, -1206282339, -2141482063, -1550311379, 1097472880, 1449582151, 1327824311,
    -1105846005, -651630279, -1174121238, 223701431, 810978550, 43703267, 835843581,
    1519786882, -772329283, 372536197, -317962831, -642907139, -706495414, 15792134,
    -1116133237, 1322391079, -1231319713, -2011725892, 1299386162, -348690342, 1341976962,
    1190607957, -262501494, -540039728, -986836170, -1675546118, -1948015872, -392391576,
    638256747, 191085745, -97160665, -1517309270, 1375971382, 2133755906, 891811204,
    -2118700536, 2110473668, -2058625827, 861211557, 1573507430, 1625767564, 2051434938,
    -1922104200, -1271440420, 927536580, 1386277121, 1184911833, 50057146, -185358571,
    -1284027987, -1025692308, -1093701172, -1116573039, -1686684117, 2068400044, 1009668318,
    -1847249948, 1670927751, 408998980, -380240510, 1439774921, 718930634, -1800042595,
    16808464, -1743967552, 1137718941, 252008887, -460347667, -1053605891, 1278046001,
    947528252, 1842130704, 1599145891, -1341955486, 1631478226, 1754478786, -1370798799,
    1516348954, 730123440, -1409786204, 1491046204, -1114899725, -656053644, -453397258,
    -694901410, -1804067552, 13393714, -2101289195, 176533870, 1339899789, -1511804464,
    -1974699707, -1660688399, -115501757, 86156176
};


int y_ref[M] = {1983998144, -1774881808, -1156600492, -160908028, 1069938876, -593031208, 800580802, 1889808274, -2086929984, -881425036, -1427893616, -606182852, -481847544, 271803794, 917382532, 851793868, -1090370318, -1147502036, 1464369876, -2011081742, -1684196762, 1155995158, 2101554326, -168320710, 116511064, 729534344, -47568092, 1290403922, 1732570274, -1328582748, -489088686, 1569794154, -1171464876, -104531016, 1571614010, 1477913470, -362825234, -454468750, -1209149040, 1806425722, -454215272, 356817696, -2039610672, 988775842, 1282116484, 1960120828, -1638512488, -2014051156, -1043176958, -454120360, -1116839212, 473486114, -1288474144, -736323078, 1086427908, 1795814540, 741582260, -1530421186, -1705694848, 49165494, 924599518, 432492658, -2068177230, 424994804, 730812190, -2111282694, -1902706602, 376926040, 1163807628, 2144759986, 349926080, 174506234, -1095316490, -1451532548, -199064044, -1551813572, 1623974956, -758473674, 886906762, 504418804, 1096275232, -1684893996, 238139054, 2023123144, -1513804734, 1767006904, 1695721118, 71935336, 2055378624, -994673820, 1004557144, 1905946290, 1777903774, 541182528, 1862296284, 1090766374, -1764960190, 1938704600, -265860460, -851153934, -997135022, 988993302, 145059942, -116029620, 78783570, -234832500, -690151394, 733713080, -1083226722, -332459078, 1343919248, 961661998, 1573974240, -1506915800, -497330964, -646682252, 1712544784, -1346234138, -182049296, 1827786832, 1000654600, -979103356, -781660364, 1299124946, -623910286, -2133518946, -94047134, 1013968778, 173894464, 1223160012, 285819514, -2047437360, 250362316, 1563645738, -1951911674, 301166068, -1603074770, 1904052062, -1311664272, 855713176, -1370285468, 1771557120, 2066241066, 74268628, -1785247822, 1485061846, 2086753292, 1632725402, 1131297740, 1864606960, -1959981198, -293219894, 128162058, -1609673952, 77661078, -1653029488, -1949369136, 1310567164, -1110826564, -92548956, -1339802984, -2058298790, -278552960, 1239064940, 1782844272, 1713043806, 2018595608, -267128470, -517967612, 902614248, 1914237574, 651211100, -688124678, -676303714, 1545163490, 364493176, 868199480, 1838222692, 1745291934, -804241970, -1571469828, -405983368, 1245290934, 2045855326, 1735110490, 146108600, 753964804, 913337212, -755350982, -1327611154, 467368304, -29747732, 605010134, 1445905924, -1065200336, -516848818, -605324094, -1311046076, 750761248, -2138911180, 102017622, -1642340700, -1974372386, 98908794, -619313188, -1353007360, -375801560, 72222088, -1900400440, 1907070534, 1778192142, 1243085436, -2062076650, -1093459744, 668949290, -1062729090, 1198320728, -21243194, -1827377168, 1171990778, 1456291124, 941610466, 548260336, 2081270756, -1699112852, -984501182, 140680454, -1571786772, 424994878, -1384970674, 2086892952, -1553727288, -1719848026, -1324724964, 1581166078, -212466308, -1189857916, -305209180, -259065982, 220278914, 384968696, -1130038792, -1082050600, 796128290, -462290032, 2049450408, -2049770938, 1573272232, 976908946, -372883008, 79607006, -315989348, -623200206, -1185833888, -1352719932, -2033598710 };
void fir_original(int x[], int c[], int M1, int N1, int *y) {
	int j, i;
//	y[0]=c[0]*x[0];
//	y[1]= c[0]*x[1]+c[1]*x[0];
//	y[2]= c[0]*x[2]+c[1]*x[1]+c[2]*x[0];
//    y[3]= c[0]*x[3]+c[1]*x[2]+c[2]*x[1]+c[3]*x[0];
//    y[4]= c[0]*x[4]+c[1]*x[3]+c[2]*x[2]+c[3]*x[1]+c[4]*x[0];
//    y[5]= c[0]*x[5]+c[1]*x[4]+c[2]*x[3]+c[3]*x[2]+c[4]*x[1]+c[5]*x[0];
//    y[6]= c[0]*x[6]+c[1]*x[5]+c[2]*x[4]+c[3]*x[3]+c[4]*x[2]+c[5]*x[1]+c[6]*x[0];
//    y[7]= c[0]*x[7]+c[1]*x[6]+c[2]*x[5]+c[3]*x[4]+c[4]*x[3]+c[5]*x[2]+c[6]*x[1]+c[7]*x[0];
//    y[8]= c[0]*x[8]+c[1]*x[7]+c[2]*x[6]+c[3]*x[5]+c[4]*x[4]+c[5]*x[3]+c[6]*x[2]+c[7]*x[1]+c[8]*x[0];
//    y[9]= c[0]*x[9]+c[1]*x[8]+c[2]*x[7]+c[3]*x[6]+c[4]*x[5]+c[5]*x[4]+c[6]*x[3]+c[7]*x[2]+c[8]*x[1]+c[9]*x[0];
//    y[10]= c[0]*x[10]+c[1]*x[9]+c[2]*x[8]+c[3]*x[7]+c[4]*x[6]+c[5]*x[5]+c[6]*x[4]+c[7]*x[3]+c[8]*x[2]+c[9]*x[1]+c[10]*x[0];
//    y[11]= c[0]*x[11]+c[1]*x[10]+c[2]*x[9]+c[3]*x[8]+c[4]*x[7]+c[5]*x[6]+c[6]*x[5]+c[7]*x[4]+c[8]*x[3]+c[9]*x[2]+c[10]*x[1]+c[11]*x[0];
//    y[12]= c[0]*x[12]+c[1]*x[11]+c[2]*x[10]+c[3]*x[9]+c[4]*x[8]+c[5]*x[7]+c[6]*x[6]+c[7]*x[5]+c[8]*x[4]+c[9]*x[3]+c[10]*x[2]+c[11]*x[1]+c[12]*x[0];
//    y[13]= c[0]*x[13]+c[1]*x[12]+c[2]*x[11]+c[3]*x[10]+c[4]*x[9]+c[5]*x[8]+c[6]*x[7]+c[7]*x[6]+c[8]*x[5]+c[9]*x[4]+c[10]*x[3]+c[11]*x[2]+c[12]*x[1]+c[13]*x[0];
//    y[14]= c[0]*x[14]+c[1]*x[13]+c[2]*x[12]+c[3]*x[11]+c[4]*x[10]+c[5]*x[9]+c[6]*x[8]+c[7]*x[7]+c[8]*x[6]+c[9]*x[5]+c[10]*x[4]+c[11]*x[3]+c[12]*x[2]+c[13]*x[1]+c[14]*x[0];
    
    
    
//  y15 = c0*x15 + c1*x14 + c2*x13 + c3*x12 + c4*x11 + c5*x10 + c6*x9 +  c7*x8 +  c8*x7 +  c9*x6 +  c10*x5 + c11*x4 + c12*x3 + c13*x2 + c2*x1 + c15*x0
//  y16 = c0*x16 + c1*x15 + c2*x14 + c3*x13 + c4*x12 + c5*x11 + c6*x10 + c7*x9 +  c8*x8 +  c9*x7 +  c10*x6 + c11*x5 + c12*x4 + c13*x3 + c2*x2 + c15*x1
//  y17 = c0*x17 + c1*x16 + c2*x15 + c3*x14 + c4*x13 + c5*x12 + c6*x11 + c7*x10 + c8*x9 +  c9*x8 +  c10*x7 + c11*x6 + c12*x5 + c13*x4 + c2*x3 + c15*x2
//  y18 = c0*x18 + c1*x17 + c2*x16 + c3*x15 + c4*x14 + c5*x13 + c6*x12 + c7*x11 + c8*x10 + c9*x9 +  c10*x8 + c11*x7 + c12*x6 + c13*x5 + c2*x4 + c15*x3
//  y19 = c0*x19 + c1*x18 + c2*x17 + c3*x16 + c4*x15 + c5*x14 + c6*x13 + c7*x12 + c8*x11 + c9*x10 + c10*x9 + c11*x8 + c12*x7 + c13*x6 + c2*x5 + c15*x4
    
//y[15]=c[0]*x[15]+c[1]*x[14]+c[2]*x[13]+c[3]*x[12]+c[4]*x[11]+c[5]*x[10]+c[6]*x[9]+c[7]*x[8]+c[8]*x[7]+c[9]*x[6]+c[10]*x[5]+c[11]*x[4]+c[12]*x[3]+c[13]*x[2]+c[14]*x[1]+c[15]*x[0];
//y[16]=c[0]*x[16]+c[1]*x[15]+c[2]*x[14]+c[3]*x[13]+c[4]*x[12]+c[5]*x[11]+c[6]*x[10]+c[7]*x[9]+c[8]*x[8]+c[9]*x[7]+c[10]*x[6]+c[11]*x[5]+c[12]*x[4]+c[13]*x[3]+c[14]*x[2]+c[15]*x[1];
//y[17]=c[0]*x[17]+c[1]*x[16]+c[2]*x[15]+c[3]*x[14]+c[4]*x[13]+c[5]*x[12]+c[6]*x[11]+c[7]*x[10]+c[8]*x[9]+c[9]*x[8]+c[10]*x[7]+c[11]*x[6]+c[12]*x[5]+c[13]*x[4]+c[14]*x[3]+c[15]*x[2];
//y[18]=c[0]*x[18]+c[1]*x[17]+c[2]*x[16]+c[3]*x[15]+c[4]*x[14]+c[5]*x[13]+c[6]*x[12]+c[7]*x[11]+c[8]*x[10]+c[9]*x[9]+c[10]*x[8]+c[11]*x[7]+c[12]*x[6]+c[13]*x[5]+c[14]*x[4]+c[15]*x[3];
//y[19]=c[0]*x[19]+c[1]*x[18]+c[2]*x[17]+c[3]*x[16]+c[4]*x[15]+c[5]*x[14]+c[6]*x[13]+c[7]*x[12]+c[8]*x[11]+c[9]*x[10]+c[10]*x[9]+c[11]*x[8]+c[12]*x[7]+c[13]*x[6]+c[14]*x[5]+c[15]*x[4];

  for(j=0; j<M1; j++) {
     int output=0;
     for(i=0; i<N1; i++) {
         output+=c[i]*x[j-i+N1];
     }
     y[j] = output;
  }

  //return 0;
}

int y[M];

int main() {

	fir_original(x, c, M, N, y);
    
    for(int i=0; i<M-N; ++i) {
        if (y[i] != y_ref[i]) {
#ifdef C
            printf("%d, ", i);
#else
            return 10+i;
#endif
        }
    }
#ifdef C
            printf("Success!\n");
#endif
	return -1;
}

